# 易宿酒店预订平台

<!-- slide -->
## 目录
- [一、项目整体介绍]
- [二、项目背景与需求分析]
- [三、系统总体架构设计]
- [四、核心功能模块]
- [五、技术选型与项目亮点]
- [六、关键难点与解决思路]
- [七、AI 助手功能展示]
- [八、成员分工与协作方式]
- [九、项目成果与展示效果]
- [十、总结与展望]

<!-- slide -->
## 一、项目整体介绍

### 项目名称与定位
> **易宿（YiSu）** —— 一站式酒店信息展示与管理平台

### 整体形态

| 端 | 技术形态 | 面向用户 |
|---|---|---|
| 微信小程序 | 原生 WXML/WXSS/JS | 普通用户（浏览、查询、AI 咨询） |
| PC 管理端 | React + Ant Design | 商户（发布酒店）、管理员（审核管理） |
| 后端服务 | Node.js + Express | 统一 API 服务层 |

### 项目目标
- 解决酒店信息**发布流程不规范**、**审核缺失**的核心问题
- 为用户提供**便捷的酒店浏览与 AI 智能咨询**体验
- 为商户提供**结构化的酒店信息录入与管理**工具

![项目整体架构示意图](需要你生成图片)

<!-- slide -->

## 二、项目背景与需求分析

### 行业背景与痛点
- 酒店信息平台**内容质量参差不齐**，缺乏有效审核机制
- 商户入驻流程繁琐，**信息录入标准化程度低**
- 用户在选择酒店时缺乏**智能化推荐与咨询**入口

### 目标用户与角色

| 角色 | 核心需求 |
|---|---|
| **普通用户** | 1. 按城市/关键词/星级筛选酒店 2. 查看酒店详情与房型 3. 通过 AI 助手获取推荐 |
| **商户** | 1. 注册账号并提交酒店信息 2. 管理已发布酒店的状态 3. 根据审核反馈修改信息 |
| **管理员** | 1. 审核商户提交的酒店（通过/拒绝） 2. 管理酒店上下线状态 3. 维护平台内容质量 |

<!-- slide -->

## 三、系统总体架构设计

### 整体架构分层

```
┌─────────────────────────────────────────┐
│           客户端层                        │
│  微信小程序（用户端）  PC 管理端（商户/管理员）│
└──────────────┬──────────────────────────┘
               │ HTTP / REST API
┌──────────────▼──────────────────────────┐
│           服务端层（Node.js + Express）    │
│  Auth | Hotel | Merchant | Admin | AI   │
└──────────────┬──────────────────────────┘
               │ Prisma ORM
┌──────────────▼──────────────────────────┐
│           数据层（MySQL）                  │
│     User | Hotel | Room                 │
└──────────────┬──────────────────────────┘
               │
┌──────────────▼──────────────────────────┐
│           外部服务层                       │
│  MinIO（文件存储）| 高德地图 | AI 大模型    │
└─────────────────────────────────────────┘
```

![系统架构图](需要你生成图片)

### 核心数据流（审核流程）

1. 商户填写酒店信息 → 提交（状态：**pending**）
2. 管理员在审核列表查看 → 审核通过（状态：**approved**）或拒绝（附原因，状态：**rejected**）
3. 审核通过后酒店展示在小程序端
4. 管理员可随时将酒店设为**上线/下线**

### 外部服务集成

| 服务 | 用途 |
|---|---|
| **MinIO** | S3 兼容对象存储，保存酒店图片/视频 |
| **高德地图** | 酒店地理位置选取与展示 |
| **AI 大模型** | 小程序 AI 助手智能问答 |

<!-- slide -->

## 四、核心功能模块

### 微信小程序（用户端）

| 页面 | 功能描述 |
|---|---|
| 首页 | 展示推荐酒店、Banner 轮播、快速入口 |
| 列表页 | 按城市/关键词/星级筛选，分页加载 |
| 详情页 | 酒店图文详情、房型列表、设施展示 |
| AI 助手页 | 智能对话，支持酒店推荐与问题解答 |

### PC 管理端 — 商户侧

- 账号注册与登录
- 酒店信息录入（名称、地址、星级、图片、房型等）
- 地图选点（高德地图集成）
- 查看审核状态与拒绝原因
- 修改并重新提交

### PC 管理端 — 管理员侧

- 审核列表（待审核 / 已通过 / 已拒绝 / 已下线）
- 一键审核通过或填写拒绝原因
- 酒店上线 / 下线管理

<!-- slide -->

## 五、技术选型与项目亮点

### 技术栈总览

| 层次 | 技术选型 |
|---|---|
| **小程序端** | 微信原生（WXML / WXSS / JS） |
| **PC 前端** | React **18.2** + Vite + Redux Toolkit + Ant Design + MUI |
| **后端** | Node.js + Express + JWT + Multer |
| **数据库** | MySQL + **Prisma ORM** |
| **文件存储** | **MinIO**（S3 兼容） |
| **地图服务** | 高德地图 API |
| **AI 服务** | 大模型 API 接入 |

### 亮点一：多角色权限体系

基于 **JWT + 角色字段（admin/merchant）** 实现细粒度权限控制。前端路由守卫与后端中间件双重校验，确保不同角色只能访问对应功能模块，安全可靠。

### 亮点二：完整的酒店审核工作流

设计了 `pending → approved / rejected → offline / online` 的完整状态机，商户提交后经管理员审核才能上线，有效保障平台内容质量。

### 亮点三：AI 智能助手集成

在微信小程序中内置 AI 对话助手，用户可通过自然语言查询酒店信息、获取推荐，提升用户体验，是平台的核心差异化功能。

### 亮点四：前后端分离 + Monorepo 工程化

采用 Monorepo 结构统一管理三端代码，配合 Prisma ORM 实现类型安全的数据库操作，工程化程度高，便于团队协作。

<!-- slide -->

## 六、关键难点与解决思路

### 难点一：多端统一 API 设计

- **问题**：小程序端与 PC 端对同一数据的需求格式不同，接口设计容易冗余
- **解决**：后端统一 RESTful API，通过查询参数控制返回字段粒度；前端各自封装请求层（`utils/request.js`）做数据适配
- **效果**：接口复用率高，维护成本低

### 难点二：文件上传与存储管理

- **问题**：酒店图片/视频体积大，直接存数据库不可行，且需要支持多文件上传
- **解决**：引入 **MinIO** 对象存储，后端用 **Multer** 处理 multipart 上传，生成访问 URL 存入数据库
- **效果**：文件与业务数据解耦，存储可横向扩展

### 难点三：地图选点与坐标存储

- **问题**：商户填写酒店地址时需要精确坐标，手动输入经纬度体验差
- **解决**：集成**高德地图 API**，在 PC 端提供可视化地图选点组件（`HotelMap.jsx`），自动回填经纬度字段
- **效果**：地址录入准确率提升，用户体验友好

### 难点四：星级筛选逻辑边界问题

- **问题**：多星级组合筛选时出现边界条件 bug，导致筛选结果不准确
- **解决**：重构筛选逻辑，统一处理空值与多选状态，增加边界测试用例
- **效果**：筛选功能稳定，覆盖所有星级组合场景

<!-- slide -->

## 七、AI 助手功能展示

### 功能定位
- 内置于微信小程序**助手页**，同时提供**悬浮入口**（`assistant-float` 组件）
- 用户可随时发起对话，获取酒店推荐、平台使用帮助等

### 交互方式
- 文字输入 → AI 流式回复
- 支持多轮对话上下文

### 示例对话

**示例 1：酒店推荐**
> 用户：我想在上海找一家五星级酒店，有什么推荐？
>
> AI：为您推荐以下上海五星级酒店：1. XXX 酒店，位于浦东新区，均价 ¥800/晚，设施齐全；2. XXX 大酒店，近外滩，评分 4.9 分……

**示例 2：平台使用咨询**
> 用户：我是商户，怎么发布我的酒店？
>
> AI：您好！发布酒店步骤如下：① 在 PC 端注册商户账号 → ② 进入「酒店管理」填写信息 → ③ 提交后等待管理员审核（通常 1-3 个工作日）→ ④ 审核通过后自动上线展示。

### 技术实现
- 后端 `assistant.js` 路由 + `assistantController.js` 处理对话逻辑
- 接入外部**大模型 API**（流式输出），前端实时渲染回复内容
- 对话历史存储在前端 Session，支持多轮上下文

<!-- slide -->

## 八、成员分工与协作方式

### 团队分工

| 成员 | 负责模块 |
|---|---|
| 成员 A | PC端登录/注册界面，微信小程序酒店查询页 |
| 成员 B | PC管理端酒店信息录入，微信小程序酒店详情页 |
| 成员 C | PC管理端酒店审核页面，微信小程序酒店列表页 |

> 注：以上为根据代码结构推测的分工，请根据实际情况补充真实成员姓名与分工。

### 协作方式

- **版本控制**：Git + GitHub
- **接口对齐**：后端先出 API 文档（`docs/API.md`），前端按文档联调
- **环境管理**：`.env` 文件统一管理环境变量，开发/生产环境隔离

<!-- slide -->

## 九、项目成果与展示效果

### 已完成功能清单

- [x] 用户注册 / 登录（JWT 鉴权）
- [x] 酒店列表展示（城市/关键词/星级筛选）
- [x] 酒店详情页（图文 + 房型）
- [x] 商户酒店信息录入与提交
- [x] 管理员审核工作流（通过/拒绝/上下线）
- [x] 文件上传（图片/视频，MinIO 存储）
- [x] 地图选点（高德地图集成）
- [x] AI 智能助手（多轮对话）
- [x] 微信小程序二维码引导
- [x] 响应式 PC 管理端界面

### 推荐 Demo 演示路线

```
1. 打开微信小程序 → 首页浏览推荐酒店
2. 进入列表页 → 演示星级/城市筛选
3. 点击酒店 → 查看详情与房型
4. 打开 AI 助手 → 发起一次推荐对话
   ↓
5. 切换到 PC 端 → 商户登录 → 填写酒店信息 → 提交审核
6. 切换管理员账号 → 审核列表 → 通过审核
7. 回到小程序 → 验证新酒店已上线展示
```

<!-- slide -->

## 十、总结与展望

### 项目整体评价

本项目从 **0 到 1** 完整实现了一个包含三端的酒店管理平台，覆盖了用户浏览、商户入驻、管理员审核的完整业务闭环，并引入 AI 助手提升用户体验。团队在项目中积累了**全栈开发、多角色权限设计、工程化协作**等宝贵经验。

### 后续规划

1. **用户预订功能**：增加在线预订、支付、订单管理模块，打通完整交易链路
2. **数据分析看板**：为管理员提供酒店入驻趋势、用户行为等数据可视化
3. **AI 能力增强**：接入更强大的模型，支持基于用户偏好的个性化推荐与行程规划

![项目展望路线图](需要你生成图片)
